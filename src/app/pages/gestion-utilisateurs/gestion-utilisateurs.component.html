<div class="container">
    <aside class="sidebar">
      <!-- Votre sidebar ici -->
      <app-sidebar></app-sidebar>
    </aside>
    
    <main class="main-content">
      <div class="card">
        <!-- Header -->
        <div class="header">
          <h1>Gestion des Utilisateurs</h1>
          <div class="header-buttons">
            <button class="btn-delete" [disabled]="!hasSelection" (click)="deleteSelected()">
              <i class="fas fa-trash-alt"></i>Supprimer
            </button>
            <button class="btn-add" (click)="addUser()">
              <i class="fas fa-plus"></i>Ajouter
            </button>
          </div>
        </div>
  
        <!-- Search Bar -->
        <div class="search-section">
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input 
              type="text" 
              [(ngModel)]="searchTerm"
              (input)="onSearch()"
              placeholder="Rechercher par Prenom, Email, Matricule..." 
              class="search-input"
            />
          </div>
          <button class="btn-filter">
            <i class="fas fa-filter"></i>Filtre
          </button>
        </div>
  
        <!-- Table -->
        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th>
                  <input type="checkbox" 
                         [checked]="allSelected"
                         (change)="toggleAllSelection()"/>
                </th>
                <th>Matricule</th>
                <th>Prenom et Nom</th>
                <th>Email</th>
                <th>Telephone</th>
                <th>Role</th>
                <th>Status</th>
                <th>Actions</th>
                <th>Assignation</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let user of filteredUtilisateurs">
                <td>
                  <input type="checkbox" [(ngModel)]="user.selected"/>
                </td>
                <td>{{user.matricule}}</td>
                <td>{{user.prenom}} {{user.nom}}</td>
                <td>{{user.email}}</td>
                <td>{{user.telephone}}</td>
                <td>{{user.role}}</td>
                <td>
                  <span [class]="'status ' + (user.status === 'Actif' ? 'status-active' : 'status-inactive')">
                    {{user.status}}
                  </span>
                </td>
                <td>
                  <div class="actions">
                    <button class="btn-action edit" (click)="editUser(user)">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="btn-action view" (click)="viewUser(user)">
                      <i class="fas fa-eye"></i>
                    </button>
                    <button class="btn-action delete" (click)="deleteUser(user)">
                      <i class="fas fa-trash"></i>
                    </button>
                    <button class="btn-action settings">
                      <i class="fas fa-cog"></i>
                    </button>
                  </div>
                </td>
                <td>
                  <button class="btn-assign" (click)="assignUser(user)">
                    <i class="fas fa-user-plus"></i>Assigner
                  </button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </main>
  </div>